{% extends "base.html" %}

{% block title %}ğŸ® DApp Playground - Thronos{% endblock %}

{% block styles %}
<style>
    .playground-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
    }

    .playground-header {
        text-align: center;
        margin-bottom: 30px;
    }

    .playground-title {
        font-size: 36px;
        font-weight: bold;
        background: linear-gradient(135deg, #ffd700 0%, #00ff66 50%, #ffed4e 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 10px;
        filter: drop-shadow(0 0 15px rgba(0, 255, 102, 0.4));
    }

    .playground-subtitle {
        color: #56ff9a;
        font-size: 14px;
    }

    .playground-layout {
        display: grid;
        grid-template-columns: 1fr 400px;
        gap: 20px;
        margin-top: 30px;
    }

    /* Editor Section */
    .editor-section {
        background: linear-gradient(135deg, rgba(10, 10, 10, 0.8) 0%, rgba(26, 59, 46, 0.1) 100%);
        border: 2px solid;
        border-image: linear-gradient(135deg, #d4af37 0%, #00ff66 50%, #ffd700 100%) 1;
        border-radius: 12px;
        padding: 20px;
    }

    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }

    .section-title {
        font-size: 18px;
        font-weight: 700;
        background: linear-gradient(135deg, #ffd700 0%, #00ff66 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .template-selector {
        padding: 8px 12px;
        background: rgba(0, 0, 0, 0.5);
        border: 1px solid #1a3b2e;
        color: #e6ffe5;
        font-family: "Courier New", monospace;
        font-size: 12px;
        border-radius: 6px;
        cursor: pointer;
    }

    .code-editor {
        width: 100%;
        min-height: 400px;
        background: #000;
        border: 1px solid #1a3b2e;
        color: #00ff66;
        font-family: "Courier New", monospace;
        font-size: 13px;
        padding: 15px;
        border-radius: 6px;
        resize: vertical;
        tab-size: 4;
    }

    .code-editor:focus {
        outline: none;
        border-color: #00ff66;
        box-shadow: 0 0 10px rgba(0, 255, 102, 0.2);
    }

    .editor-actions {
        display: flex;
        gap: 10px;
        margin-top: 15px;
    }

    .editor-btn {
        padding: 10px 20px;
        background: linear-gradient(135deg, rgba(0, 255, 102, 0.1) 0%, rgba(0, 255, 102, 0.2) 100%);
        border: 1px solid #00ff66;
        color: #00ff66;
        cursor: pointer;
        font-size: 13px;
        font-weight: 600;
        border-radius: 6px;
        transition: all 0.3s;
        font-family: "Courier New", monospace;
    }

    .editor-btn:hover {
        background: linear-gradient(135deg, rgba(0, 255, 102, 0.2) 0%, rgba(0, 255, 102, 0.3) 100%);
        box-shadow: 0 0 15px rgba(0, 255, 102, 0.3);
        transform: translateY(-1px);
    }

    .editor-btn-primary {
        background: linear-gradient(135deg, #00ff00 0%, #00ff66 100%);
        color: #000;
    }

    .editor-btn-primary:hover {
        box-shadow: 0 0 20px rgba(0, 255, 102, 0.4);
    }

    /* Side Panel */
    .side-panel {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .panel-card {
        background: linear-gradient(135deg, rgba(10, 10, 10, 0.8) 0%, rgba(26, 59, 46, 0.1) 100%);
        border: 1px solid #1a3b2e;
        border-radius: 12px;
        padding: 20px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .panel-card:hover {
        border-color: #00ff66;
        box-shadow: 0 0 20px rgba(0, 255, 102, 0.2);
    }

    .panel-title {
        font-size: 16px;
        font-weight: 700;
        background: linear-gradient(135deg, #ffd700 0%, #00ff66 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 15px;
    }

    .form-group {
        margin-bottom: 15px;
    }

    .form-label {
        display: block;
        font-size: 11px;
        color: #56ff9a;
        margin-bottom: 6px;
        font-weight: 600;
    }

    .form-input {
        width: 100%;
        padding: 10px;
        background: rgba(0, 0, 0, 0.5);
        border: 1px solid #1a3b2e;
        color: #e6ffe5;
        font-family: "Courier New", monospace;
        font-size: 12px;
        border-radius: 6px;
        transition: border-color 0.3s;
    }

    .form-input:focus {
        outline: none;
        border-color: #00ff66;
        box-shadow: 0 0 10px rgba(0, 255, 102, 0.2);
    }

    .info-box {
        background: rgba(0, 255, 102, 0.05);
        border: 1px solid #1a3b2e;
        border-radius: 6px;
        padding: 12px;
        margin-bottom: 15px;
    }

    .info-box-label {
        font-size: 10px;
        color: #56ff9a;
        margin-bottom: 4px;
        text-transform: uppercase;
        font-weight: 600;
    }

    .info-box-value {
        font-size: 13px;
        color: #e6ffe5;
        font-family: monospace;
        word-break: break-all;
    }

    .result-panel {
        background: #000;
        border: 1px solid #1a3b2e;
        border-radius: 6px;
        padding: 12px;
        font-family: "Courier New", monospace;
        font-size: 11px;
        max-height: 200px;
        overflow-y: auto;
        white-space: pre-wrap;
        word-break: break-all;
    }

    .result-success {
        color: #00ff66;
    }

    .result-error {
        color: #ff6666;
    }

    .result-info {
        color: #56ff9a;
    }

    /* Examples Section */
    .examples-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-top: 20px;
    }

    .example-card {
        background: linear-gradient(135deg, rgba(10, 10, 10, 0.8) 0%, rgba(26, 59, 46, 0.1) 100%);
        border: 1px solid #1a3b2e;
        border-radius: 8px;
        padding: 15px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .example-card:hover {
        border-color: #00ff66;
        box-shadow: 0 0 15px rgba(0, 255, 102, 0.2);
        transform: translateY(-2px);
    }

    .example-name {
        font-size: 14px;
        font-weight: 600;
        color: #00ff66;
        margin-bottom: 6px;
    }

    .example-desc {
        font-size: 11px;
        color: #56ff9a;
    }

    @media (max-width: 1200px) {
        .playground-layout {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="playground-container">
    <div class="playground-header">
        <h1 class="playground-title">ğŸ® <span class="lang-el">DApp Playground</span><span class="lang-en">DApp Playground</span></h1>
        <p class="playground-subtitle">
            <span class="lang-el">Î“ÏÎ¬ÏˆÏ„Îµ, Î¼ÎµÏ„Î±Î³Î»Ï‰Ï„Ï„Î¯ÏƒÏ„Îµ ÎºÎ±Î¹ Î±Î½Î±Ï€Ï„ÏÎ¾Ï„Îµ Î­Î¾Ï…Ï€Î½Î± ÏƒÏ…Î¼Î²ÏŒÎ»Î±Î¹Î±</span>
            <span class="lang-en">Write, compile, and deploy smart contracts</span>
        </p>
    </div>

    <div class="playground-layout">
        <!-- Editor Section -->
        <div class="editor-section">
            <div class="section-header">
                <h2 class="section-title">ğŸ“ <span class="lang-el">Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÏ„Î®Ï‚ ÎšÏÎ´Î¹ÎºÎ±</span><span class="lang-en">Code Editor</span></h2>
                <select class="template-selector" id="templateSelect" onchange="loadTemplate()">
                    <option value="">Select Template...</option>
                    <option value="simple-storage">Simple Storage</option>
                    <option value="token">ERC20 Token</option>
                    <option value="counter">Counter</option>
                    <option value="voting">Voting</option>
                    <option value="nft">NFT Contract</option>
                </select>
            </div>

            <textarea class="code-editor" id="codeEditor" placeholder="// Write your Solidity code here...
// Example:
// pragma solidity ^0.8.0;
//
// contract HelloThronos {
//     string public message = 'Hello, Thronos!';
//
//     function setMessage(string memory _message) public {
//         message = _message;
//     }
// }"></textarea>

            <div class="editor-actions">
                <button class="editor-btn" onclick="clearEditor()">
                    ğŸ—‘ï¸ <span class="lang-el">ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚</span><span class="lang-en">Clear</span>
                </button>
                <button class="editor-btn" onclick="formatCode()">
                    âœ¨ <span class="lang-el">ÎœÎ¿ÏÏ†Î¿Ï€Î¿Î¯Î·ÏƒÎ·</span><span class="lang-en">Format</span>
                </button>
                <button class="editor-btn editor-btn-primary" onclick="compileContract()">
                    ğŸ”¨ <span class="lang-el">ÎœÎµÏ„Î±Î³Î»ÏÏ„Ï„Î¹ÏƒÎ·</span><span class="lang-en">Compile</span>
                </button>
            </div>

            <!-- Compilation Result -->
            <div id="compileResult" style="margin-top: 15px; display: none;">
                <div class="panel-title">
                    <span class="lang-el">Î‘Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î± ÎœÎµÏ„Î±Î³Î»ÏÏ„Ï„Î¹ÏƒÎ·Ï‚</span><span class="lang-en">Compilation Result</span>
                </div>
                <div class="result-panel" id="compileOutput"></div>
            </div>
        </div>

        <!-- Side Panel -->
        <div class="side-panel">
            <!-- Deploy Section -->
            <div class="panel-card">
                <h3 class="panel-title">ğŸš€ <span class="lang-el">Î‘Î½Î¬Ï€Ï„Ï…Î¾Î·</span><span class="lang-en">Deploy</span></h3>

                <div class="form-group">
                    <label class="form-label">
                        <span class="lang-el">THR Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·</span><span class="lang-en">THR Address</span>
                    </label>
                    <input type="text" class="form-input" id="deployAddress" placeholder="THR_..." />
                </div>

                <div class="form-group">
                    <label class="form-label">Auth Secret</label>
                    <input type="password" class="form-input" id="deploySecret" placeholder="Your auth secret" />
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <span class="lang-el">Î‘Î¾Î¯Î± (THR)</span><span class="lang-en">Value (THR)</span>
                    </label>
                    <input type="number" class="form-input" id="deployValue" value="0" step="0.000001" />
                </div>

                <div class="form-group">
                    <label class="form-label">Gas Limit</label>
                    <input type="number" class="form-input" id="deployGas" value="1000000" />
                </div>

                <button class="editor-btn editor-btn-primary" style="width: 100%;" onclick="deployContract()">
                    ğŸš€ <span class="lang-el">Î‘Î½Î¬Ï€Ï„Ï…Î¾Î· Î£Ï…Î¼Î²Î¿Î»Î±Î¯Î¿Ï…</span><span class="lang-en">Deploy Contract</span>
                </button>

                <div id="deployResult" style="margin-top: 15px; display: none;">
                    <div class="result-panel" id="deployOutput"></div>
                </div>
            </div>

            <!-- Deployed Contracts -->
            <div class="panel-card">
                <h3 class="panel-title">ğŸ“‹ <span class="lang-el">Î‘Î½Î±Ï€Ï„Ï…Î³Î¼Î­Î½Î± Î£Ï…Î¼Î²ÏŒÎ»Î±Î¹Î±</span><span class="lang-en">Deployed Contracts</span></h3>

                <div id="deployedContracts">
                    <p style="color: #56ff9a; font-size: 12px; text-align: center;">
                        <span class="lang-el">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±Î½Î±Ï€Ï„Ï…Î³Î¼Î­Î½Î± ÏƒÏ…Î¼Î²ÏŒÎ»Î±Î¹Î±</span>
                        <span class="lang-en">No deployed contracts yet</span>
                    </p>
                </div>
            </div>

            <!-- Call Function -->
            <div class="panel-card">
                <h3 class="panel-title">ğŸ“ <span class="lang-el">ÎšÎ»Î®ÏƒÎ· Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ·Ï‚</span><span class="lang-en">Call Function</span></h3>

                <div class="form-group">
                    <label class="form-label">
                        <span class="lang-el">Î”Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ· Î£Ï…Î¼Î²Î¿Î»Î±Î¯Î¿Ï…</span><span class="lang-en">Contract Address</span>
                    </label>
                    <input type="text" class="form-input" id="callContract" placeholder="CONTRACT_..." />
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <span class="lang-el">Î”ÎµÎ´Î¿Î¼Î­Î½Î± ÎšÎ»Î®ÏƒÎ·Ï‚ (hex)</span><span class="lang-en">Call Data (hex)</span>
                    </label>
                    <input type="text" class="form-input" id="callData" placeholder="0x..." />
                </div>

                <button class="editor-btn editor-btn-primary" style="width: 100%;" onclick="callContractFunction()">
                    ğŸ“ <span class="lang-el">ÎšÎ»Î®ÏƒÎ·</span><span class="lang-en">Call</span>
                </button>

                <div id="callResult" style="margin-top: 15px; display: none;">
                    <div class="result-panel" id="callOutput"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Examples Section -->
    <div style="margin-top: 40px;">
        <h2 class="section-title">ğŸ“š <span class="lang-el">Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î±</span><span class="lang-en">Examples</span></h2>

        <div class="examples-grid">
            <div class="example-card" onclick="loadExample('simple-storage')">
                <div class="example-name">ğŸ’¾ Simple Storage</div>
                <div class="example-desc">
                    <span class="lang-el">Î’Î±ÏƒÎ¹ÎºÏŒ ÏƒÏ…Î¼Î²ÏŒÎ»Î±Î¹Î¿ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·Ï‚ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½</span>
                    <span class="lang-en">Basic data storage contract</span>
                </div>
            </div>

            <div class="example-card" onclick="loadExample('counter')">
                <div class="example-name">ğŸ”¢ Counter</div>
                <div class="example-desc">
                    <span class="lang-el">Î‘Ï€Î»ÏŒÏ‚ Î¼ÎµÏ„ÏÎ·Ï„Î®Ï‚ Î¼Îµ Î±ÏÎ¾Î·ÏƒÎ·/Î¼ÎµÎ¯Ï‰ÏƒÎ·</span>
                    <span class="lang-en">Simple counter with increment/decrement</span>
                </div>
            </div>

            <div class="example-card" onclick="loadExample('token')">
                <div class="example-name">ğŸª™ ERC20 Token</div>
                <div class="example-desc">
                    <span class="lang-el">Î’Î±ÏƒÎ¹ÎºÏŒ token ERC20</span>
                    <span class="lang-en">Basic ERC20 token contract</span>
                </div>
            </div>

            <div class="example-card" onclick="loadExample('voting')">
                <div class="example-name">ğŸ—³ï¸ Voting</div>
                <div class="example-desc">
                    <span class="lang-el">Î£ÏÏƒÏ„Î·Î¼Î± ÏˆÎ·Ï†Î¿Ï†Î¿ÏÎ¯Î±Ï‚</span>
                    <span class="lang-en">Voting system contract</span>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
let compiledBytecode = '';
let deployedContractsList = [];

// Contract Examples
const examples = {
    'simple-storage': `// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract SimpleStorage {
    uint256 private storedValue;

    function set(uint256 _value) public {
        storedValue = _value;
    }

    function get() public view returns (uint256) {
        return storedValue;
    }
}`,
    'counter': `// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Counter {
    uint256 public count = 0;

    function increment() public {
        count += 1;
    }

    function decrement() public {
        require(count > 0, "Counter cannot be negative");
        count -= 1;
    }

    function reset() public {
        count = 0;
    }
}`,
    'token': `// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract SimpleToken {
    string public name = "My Token";
    string public symbol = "MTK";
    uint8 public decimals = 18;
    uint256 public totalSupply;

    mapping(address => uint256) public balanceOf;

    constructor(uint256 _initialSupply) {
        totalSupply = _initialSupply * 10 ** uint256(decimals);
        balanceOf[msg.sender] = totalSupply;
    }

    function transfer(address _to, uint256 _value) public returns (bool) {
        require(balanceOf[msg.sender] >= _value, "Insufficient balance");
        balanceOf[msg.sender] -= _value;
        balanceOf[_to] += _value;
        return true;
    }
}`,
    'voting': `// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Voting {
    struct Proposal {
        string description;
        uint256 voteCount;
    }

    Proposal[] public proposals;
    mapping(address => bool) public hasVoted;

    function addProposal(string memory _description) public {
        proposals.push(Proposal({
            description: _description,
            voteCount: 0
        }));
    }

    function vote(uint256 _proposalIndex) public {
        require(!hasVoted[msg.sender], "Already voted");
        require(_proposalIndex < proposals.length, "Invalid proposal");

        proposals[_proposalIndex].voteCount += 1;
        hasVoted[msg.sender] = true;
    }

    function getProposalCount() public view returns (uint256) {
        return proposals.length;
    }
}`
};

// Load example
function loadExample(exampleName) {
    if (examples[exampleName]) {
        document.getElementById('codeEditor').value = examples[exampleName];
        document.getElementById('templateSelect').value = exampleName;
    }
}

// Load template from selector
function loadTemplate() {
    const selected = document.getElementById('templateSelect').value;
    if (selected) {
        loadExample(selected);
    }
}

// Clear editor
function clearEditor() {
    if (confirm('Are you sure you want to clear the editor?')) {
        document.getElementById('codeEditor').value = '';
        document.getElementById('templateSelect').value = '';
        document.getElementById('compileResult').style.display = 'none';
    }
}

// Format code (simple)
function formatCode() {
    alert('Code formatting coming soon!');
}

// Compile contract (simulated)
function compileContract() {
    const code = document.getElementById('codeEditor').value.trim();
    const resultDiv = document.getElementById('compileResult');
    const outputDiv = document.getElementById('compileOutput');

    if (!code) {
        alert('Please enter contract code first');
        return;
    }

    // Simulated compilation - in reality, you'd call a Solidity compiler
    resultDiv.style.display = 'block';
    outputDiv.className = 'result-panel result-info';
    outputDiv.textContent = 'Compiling...\n';

    setTimeout(() => {
        // Simulate successful compilation
        compiledBytecode = '0x' + '60806040'.repeat(50); // Fake bytecode
        outputDiv.className = 'result-panel result-success';
        outputDiv.textContent = `âœ“ Compilation successful!\n\nBytecode: ${compiledBytecode.substring(0, 100)}...\n\nReady to deploy!`;
    }, 1000);
}

// Deploy contract
async function deployContract() {
    const address = document.getElementById('deployAddress').value.trim();
    const secret = document.getElementById('deploySecret').value.trim();
    const value = parseFloat(document.getElementById('deployValue').value) || 0;
    const gas = parseInt(document.getElementById('deployGas').value) || 1000000;
    const resultDiv = document.getElementById('deployResult');
    const outputDiv = document.getElementById('deployOutput');

    if (!address || !secret) {
        alert('Please fill in your THR address and auth secret');
        return;
    }

    if (!compiledBytecode) {
        alert('Please compile your contract first');
        return;
    }

    const payload = {
        deployer: address,
        auth_secret: secret,
        bytecode: compiledBytecode,
        value: value,
        gas_limit: gas
    };

    try {
        resultDiv.style.display = 'block';
        outputDiv.className = 'result-panel result-info';
        outputDiv.textContent = 'Deploying contract...';

        const response = await fetch('/api/evm/deploy', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });

        const data = await response.json();

        if (data.error) {
            outputDiv.className = 'result-panel result-error';
            outputDiv.textContent = `Error: ${data.error || data.message || 'Deployment failed'}`;
        } else {
            outputDiv.className = 'result-panel result-success';
            outputDiv.textContent = `âœ“ Contract deployed successfully!\n\n${JSON.stringify(data, null, 2)}`;

            // Add to deployed contracts list
            deployedContractsList.push({
                address: data.contract_address || 'CONTRACT_' + Date.now(),
                timestamp: new Date().toLocaleString()
            });
            renderDeployedContracts();
        }
    } catch (error) {
        outputDiv.className = 'result-panel result-error';
        outputDiv.textContent = `Error: ${error.message}`;
    }
}

// Call contract function
async function callContractFunction() {
    const contractAddr = document.getElementById('callContract').value.trim();
    const callData = document.getElementById('callData').value.trim();
    const address = document.getElementById('deployAddress').value.trim();
    const secret = document.getElementById('deploySecret').value.trim();
    const resultDiv = document.getElementById('callResult');
    const outputDiv = document.getElementById('callOutput');

    if (!contractAddr || !callData) {
        alert('Please enter contract address and call data');
        return;
    }

    if (!address || !secret) {
        alert('Please fill in your THR address and auth secret');
        return;
    }

    const payload = {
        caller: address,
        auth_secret: secret,
        contract_address: contractAddr,
        data: callData,
        value: 0,
        gas_limit: 100000
    };

    try {
        resultDiv.style.display = 'block';
        outputDiv.className = 'result-panel result-info';
        outputDiv.textContent = 'Calling contract...';

        const response = await fetch('/api/evm/call', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });

        const data = await response.json();

        if (data.error) {
            outputDiv.className = 'result-panel result-error';
            outputDiv.textContent = `Error: ${data.error || data.message || 'Call failed'}`;
        } else {
            outputDiv.className = 'result-panel result-success';
            outputDiv.textContent = `âœ“ Call successful!\n\n${JSON.stringify(data, null, 2)}`;
        }
    } catch (error) {
        outputDiv.className = 'result-panel result-error';
        outputDiv.textContent = `Error: ${error.message}`;
    }
}

// Render deployed contracts
function renderDeployedContracts() {
    const container = document.getElementById('deployedContracts');

    if (deployedContractsList.length === 0) {
        container.innerHTML = `<p style="color: #56ff9a; font-size: 12px; text-align: center;">
            <span class="lang-el">Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±Î½Î±Ï€Ï„Ï…Î³Î¼Î­Î½Î± ÏƒÏ…Î¼Î²ÏŒÎ»Î±Î¹Î±</span>
            <span class="lang-en">No deployed contracts yet</span>
        </p>`;
        return;
    }

    container.innerHTML = deployedContractsList.map(contract => `
        <div class="info-box">
            <div class="info-box-label">Contract Address</div>
            <div class="info-box-value">${contract.address}</div>
            <div class="info-box-label" style="margin-top: 8px;">Deployed</div>
            <div class="info-box-value">${contract.timestamp}</div>
        </div>
    `).join('');
}

// Auto-populate wallet if logged in
document.addEventListener('DOMContentLoaded', () => {
    const wallet = localStorage.getItem('thr_address');
    const secret = localStorage.getItem('thr_secret');

    if (wallet) {
        document.getElementById('deployAddress').value = wallet;
    }
    if (secret) {
        document.getElementById('deploySecret').value = secret;
    }
});
</script>
{% endblock %}
